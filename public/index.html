<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finance Tracker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <!-- Navigation -->
      <nav class="navbar">
        <div class="nav-brand">Finance Tracker</div>
        <div class="nav-links">
          <button id="loginBtn" class="nav-btn">Login</button>
          <button id="signupBtn" class="nav-btn">Sign Up</button>
          <button id="logoutBtn" class="nav-btn hidden">Logout</button>
        </div>
      </nav>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Auth Forms -->
        <div id="authForms" class="auth-section">
          <!-- Login Form -->
          <div id="loginForm" class="form-container">
            <h2>Login</h2>
            <form id="loginFormElement">
              <input
                type="email"
                id="loginEmail"
                placeholder="Email"
                required
              />
              <input
                type="password"
                id="loginPassword"
                placeholder="Password"
                required
              />
              <button type="submit">Login</button>
            </form>
          </div>

          <!-- Signup Form -->
          <div id="signupForm" class="form-container hidden">
            <h2>Sign Up</h2>
            <form id="signupFormElement">
              <input
                type="text"
                id="signupName"
                placeholder="Full Name"
                required
              />
              <input
                type="email"
                id="signupEmail"
                placeholder="Email"
                required
              />
              <select id="signupAccountType" required>
                <option value="">Select Account Type</option>
                <option value="debit">Debit</option>
                <option value="credit">Credit</option>
              </select>
              <input
                type="password"
                id="signupPassword"
                placeholder="Password"
                required
              />
              <button type="submit">Sign Up</button>
              <button
                type="button"
                id="debugSignupBtn"
                style="background: #f39c12; margin-top: 0.5rem"
              >
                Debug Signup
              </button>
              <button
                type="button"
                id="testDbBtn"
                style="background: #9b59b6; margin-top: 0.5rem"
              >
                Test Database
              </button>
            </form>
          </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard hidden">
          <!-- User Info -->
          <div class="user-info">
            <h2>Welcome, <span id="userName">User</span>!</h2>
            <p>Account Type: <span id="userAccountType">-</span></p>
            <p>Current Balance: $<span id="currentBalance">0.00</span></p>
          </div>

          <!-- Quick Actions -->
          <div class="quick-actions">
            <button id="addTransactionBtn" class="action-btn">
              Add Transaction
            </button>
            <button id="viewTransactionsBtn" class="action-btn">
              View Transactions
            </button>

            <button id="editProfileBtn" class="action-btn">Edit Profile</button>
          </div>

          <!-- Transaction Form -->
          <div id="transactionForm" class="form-container hidden">
            <h3>Add Transaction</h3>
            <form id="transactionFormElement">
              <select id="transactionType" required>
                <option value="">Select Type</option>
                <option value="credit">Credit (Income)</option>
                <option value="debit">Debit (Expense)</option>
              </select>
              <input
                type="number"
                id="transactionAmount"
                placeholder="Amount"
                step="0.01"
                min="0.01"
                required
              />
              <input
                type="text"
                id="transactionDescription"
                placeholder="Description"
                required
              />
              <input
                type="text"
                id="transactionCategory"
                placeholder="Category (optional)"
              />
              <input type="date" id="transactionDate" />
              <button type="submit">Add Transaction</button>
              <button type="button" id="cancelTransactionBtn">Cancel</button>
            </form>
          </div>

          <!-- Transactions List -->
          <div id="transactionsList" class="transactions-section hidden">
            <h3>Transactions</h3>
            <div class="filters">
              <select id="filterType">
                <option value="">All Types</option>
                <option value="credit">Credit</option>
                <option value="debit">Debit</option>
              </select>
              <input
                type="text"
                id="filterCategory"
                placeholder="Filter by category"
              />
              <input type="date" id="filterStartDate" />
              <input type="date" id="filterEndDate" />
              <button id="applyFiltersBtn">Apply Filters</button>
            </div>
            <div id="transactionsContainer"></div>
            <div class="pagination">
              <button id="prevPageBtn">Previous</button>
              <span id="pageInfo">Page 1</span>
              <button id="nextPageBtn">Next</button>
            </div>
          </div>

          <!-- Profile Edit Form -->
          <div id="profileEditForm" class="form-container hidden">
            <h3>Edit Profile</h3>
            <form id="profileEditFormElement">
              <input
                type="text"
                id="editName"
                placeholder="Full Name"
                required
              />
              <select id="editAccountType" required>
                <option value="debit">Debit</option>
                <option value="credit">Credit</option>
              </select>
              <button type="submit">Update Profile</button>
              <button type="button" id="cancelProfileEditBtn">Cancel</button>
            </form>
          </div>
        </div>
      </main>

      <!-- Notifications -->
      <div id="notifications" class="notifications"></div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
